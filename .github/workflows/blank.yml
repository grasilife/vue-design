name: GitHub Actions Build Vuepress Demo
on:
    push:
        branches:
            - master
jobs:
    build-and-deploy:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@master

            - name: Deploy to vuepress
              uses: grasilife/github-pages-deploy-action@master
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
                  BRANCH: gh-pages
                  FOLDER: docs/.vuepress/dist
                  BUILD_SCRIPT: rm -rf ./node_modules/ && rm -rf ./docs/.vuepress/dist/ && rm -rf ./dist/ && npm install && npm run docs:build
